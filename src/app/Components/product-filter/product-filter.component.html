<nav>
  <p-button label="Retour Ã‰cran Principal" routerLink="/home" styleClass="backButton"></p-button>
</nav>

<button (click)="logFilters()">Log filter</button>

<ul class="filter-container">

  <!--  <input type="text" pInputText [(ngModel)]="filters[0].value" readonly/>-->

  <li *ngFor="let filter of filters" [ngSwitch]="filter.type" class="filter-item">
    <label class="text" for="filter-{{filter.label}}">{{filter.label}}</label>
    <!--    switch on filter.type-->
    <input *ngSwitchCase="'text'" [(ngModel)]="filter.value" id="filter-{{filter.label}}"
           pInputText type="text">
    <p-inputNumber *ngSwitchCase="'number'" [(ngModel)]="filter.value" id="filter-{{filter.label}}"
                   mode="decimal"></p-inputNumber>
    <p-triStateCheckbox *ngSwitchCase="'checkbox'" [(ngModel)]="filter.value" id="filter-{{filter.label}}">
    </p-triStateCheckbox>

    <input *ngSwitchCase="'range'" [(ngModel)]="filter.value" pInputText readonly type="text"/>
    <p-slider *ngSwitchCase="'range'" [(ngModel)]="filter.value" [range]="true" id="filter-{{filter.label}}"
              inputMode="decimal"></p-slider>
    <p-calendar *ngSwitchCase="'date'" [(ngModel)]="filter.value"
                dateFormat="dd.mm.yy" id="filter-{{filter.label}}" selectionMode="range"></p-calendar>
  </li>
</ul>

<!-- [resizableColumns]="true" allow to have fix width but without being able to resize by hand -->
<p-table [(selection)]="selectedProducts" [columns]="displayedProductHeader"
         [resizableColumns]="true" [scrollable]="true" [tableStyle]="{'min-width': '50rem'}"
         [value]="productsData" selectionMode="multiple"
         styleClass="p-datatable-sm p-datatable-gridlines p-datatable-striped">

  <!-- Column toggle -->
  <ng-template pTemplate="caption">
    <p-multiSelect [(ngModel)]="displayedProductHeader" [options]="productsHeader" [style]="{'min-width': '200px'}"
                   optionLabel="label" placeholder="Choose Columns"
                   selectedItemsLabel="{0} columns selected">
    </p-multiSelect>
  </ng-template>

  <ng-template let-columns pTemplate="header">
    <tr>
      <!--  We display the photo differently because we need to add html markup-->
      <th>Photo</th>
      <th *ngFor="let col of columns">
        {{col.label}}
      </th>
    </tr>
  </ng-template>
  <ng-template let-columns="columns" let-product let-rowIndex="rowIndex" pTemplate="body">
    <tr [pSelectableRowIndex]="rowIndex" [pSelectableRow]="product">
      <td style="width: 100px">
        <img [src]="product.photo" class="shadow-4" width="100%"/>
      <td *ngFor="let col of columns">
        {{ product[col.field] }}
      </td>
    </tr>
  </ng-template>
</p-table>

